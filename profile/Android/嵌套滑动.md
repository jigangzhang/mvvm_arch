
## 嵌套滑动

    [参考](https://www.jianshu.com/p/1806ed9737f6/)
    View、ViewGroup自SDK21起支持嵌套滑动（dispatchNestedScroll等方法）
    NestedScrollingChild和NestedScrollingParent是为兼容低版本提供的接口，配套NestedScrollingChildHelper和NestedScrollingParentHelper来帮助控件实现嵌套滑动
    （NestedScrollingChild和NestedScrollingParent分别定义的View和ViewParent新增的普通方法，只要在接口方法内对应调用辅助类的方法就可以兼容嵌套滑动了，与View、ViewGroup的逻辑基本一样）

#### 子控件

    View类新增方法（NestedScrollingChild接口方法）：
        startNestedScroll : 起始方法, 主要作用是找到接收滑动距离信息的外控件.
        dispatchNestedPreScroll : 在内控件处理滑动前把滑动信息分发给外控件.
        dispatchNestedScroll : 在内控件处理完滑动后把剩下的滑动距离信息分发给外控件.
        stopNestedScroll : 结束方法, 主要作用就是清空嵌套滑动的相关状态
        setNestedScrollingEnabled和isNestedScrollingEnabled : 一对get&set方法, 用来判断控件是否支持嵌套滑动.
        dispatchNestedPreFling和dispatchNestedFling : 跟Scroll的对应方法作用类似, 不过分发的不是滑动信息而是Fling信息.(这个Fling好难翻译.. =。=)本文主要关注滑动的处理, 所以后续不分析这两个方法.

    子控件是嵌套滑动的发起者

#### 父控件

    子控件是发起者, 父控件的大部分方法都是被子控件的对应方法回调的：
        onStartNestedScroll : 对应startNestedScroll, 内控件通过调用外控件的这个方法来确定外控件是否接收滑动信息.
        onNestedScrollAccepted : 当外控件确定接收滑动信息后该方法被回调, 可以让外控件针对嵌套滑动做一些前期工作.
        onNestedPreScroll : 关键方法, 接收内控件处理滑动前的滑动距离信息, 在这里外控件可以优先响应滑动操作, 消耗部分或者全部滑动距离.
        onNestedScroll : 关键方法, 接收内控件处理完滑动后的滑动距离信息, 在这里外控件可以选择是否处理剩余的滑动距离.
        onStopNestedScroll : 对应stopNestedScroll, 用来做一些收尾工作.
        getNestedScrollAxes : 返回嵌套滑动的方向, 区分横向滑动和竖向滑动, 作用不大
        onNestedPreFling和onNestedFling : 同上略

    父控件通过onNestedPreScroll和onNestedScroll来接收子控件响应滑动前后的滑动距离信息.